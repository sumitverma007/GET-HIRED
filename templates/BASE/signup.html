<!doctype html>
<html lang="en">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
 <title>Register User</title>
    <!-- Bootstrap CSS -->
    {% load static %}
    <link rel="stylesheet" href="{% static 'CSS/signup.css/' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
 <script src="{% static 'JAVASCRIPT/jsignup.js/' %}"></script
   
  </head>
  <body>
   <div class="centered">
   <div class="row">
   <div class="col text-center">
     <button type="button" class="btn btn-primary " data-bs-toggle="modal" data-bs-target="#jsignup">
  JOB SEEKER SIGNUP 
   </button>
   </div>
    <div class="col text-center">
      <button type="button" class="btn btn-primary btn-primary-emp" data-bs-toggle="modal" data-bs-target="#esignup">
 EMPLOYER SIGNUP 
   </button>
   </div>
   </div>
   </div>
   <!-- modal for jsignup-->
<div class="modal fade" id="jsignup" tabindex="-1" aria-labelledby="jsignup" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" >JOB SEEKER REGISTRATION</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       <form action="#" onsubmit="return validateJform()"  method="POST">{% csrf_token %}
        <div class="mb-3">
            <label for="jUsername" class="form-label"> Enter Username<span class="req">*</span></label>
            <input type="text" class="form-control" id="jUsername" placeholder="Enter Username" aria-describedby="jUsernameValid" required></input>
            <div id="jUsernameValid" class="form-text"></div>
        </div>
         <div class="mb-3">
            <label for="jPassword" class="form-label"> Enter Password<span class="req">*</span></label>
            <input type="Password" class="form-control" id="jPassword" placeholder="Enter Password" aria-describedby="jPasswordHelp" required></input>
            <small class=" form-text" id="invalidPassword"></small>
            <div id="jPasswordHelp" class="form-text">Password should be atleast 8 charactter long and should contain atleast one alphabet and one number</div>
        </div>
         <div class="mb-3">
            <label for="jPassword2" class="form-label"> Enter Password Again<span class="req">*</span></label>
            <input type="Password" class="form-control" id="jPassword2" placeholder="Enter Password again"  required></input>
            <small class="text-danger form-text" id="PasswordNotSame"></small>
        </div>
        <div class="mb-3">
            <label for="jemail" class="form-label"> Enter Email Address<span class="req">*</span></label>
            <input type="email" class="form-control" id="jemail" placeholder="Enter your Email"  required></input>
            
        </div>
       <div class="input-group mb-3">
            <input type="text" class="form-control" id="jFirstName" placeholder="Enter Your First Name" required></input>
            <input type="text" class="form-control" id="jLastName"  placeholder="Enter Your Last Name" required></input>
            <small class="form-text text-danger" id="jNameError"></small>
        </div>
           <div class="input-group mb-3">
            <input type="text" class="form-control" id="jXmarks" placeholder=" 10th marks (in %)" required></input>
            <input type="text" class="form-control" id="jXiimarks"  placeholder="12th Marks (in %)" required></input>
         <input type="text" class="form-control" id="jGradmarks"  placeholder="Graduation Marks (in %)" required></input>

        </div>
        <div class="mb-3">
        <label for="jDob" class="form-label">Enter Your Date of Birth</label>
        <input type="date" class="form-control" required></input>
        </div>
        <div class="mb-3">
        <label for="jProfilePic" class="form-label">Upload Your Picture</label>
        <input type="file" id="jProfilePic" class="form-control"></input>
        </div>
        <div class="mb-3">
        <label for="jResume" class="form-label">Upload Your Resume</label>
        <input type="file" id="jResume" class="form-control"></input>
        </div>
        <div class="mb-3 text-center">
         <button class="btn btn-success" type="submit">Submit</button>
        </div>
       </form>
      </div>
     
    </div>
  </div>
</div>

<!-- modal for employer-->
<div class="modal fade" id="esignup" tabindex="-1" aria-labelledby="esignup" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" >EMPLOYER</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

 <script>

$("#jPassword").change(function(){
  
let pass=$(this).val();

let alpha=0;
let num=0;
let len=pass.length;
let lenok=0;
if (len >= 8){
    lenok=1;
}
let i;
for(i=0;i<len;i++){
    if((pass[i]>='a' && pass[i]<='z')||(pass[i]>='A' &&  pass[i]<='Z')){
        alpha=1;
    }
    if(pass[i]>=0 && pass[i]<=9){
        num=1;
    }
}
let invalidpass=document.getElementById('invalidPassword');

if(alpha==1 && num==1 && lenok==1){
    invalidpass.style.color="green";
    invalidpass.innerHTML="Its a valid Password";
}
else{
   invalidpass.style.color="red";
invalidpass.innerHTML="Invalid Password";
}
});

$("#jPassword2").change(function(){
let pass1=$("#jPassword").val();
let pass2=$(this).val();
if(pass1 != pass2){
    document.getElementById('PasswordNotSame').innerHTML="Password didn't match"
}
else{
    document.getElementById('PasswordNotSame').style.display="none";
}
});

$("#jUsername").change(function(){
let jname=$(this).val();
let uvalid=document.getElementById("jUsernameValid");

$.ajax({
    url:'/validate_username/',
    data:{
        'username':jname
    },
    dataType:'json',
    success:function(data){
        if(!data.is_ok){
                uvalid.style.color="green";
                uvalid.innerHTML="Username available";
        }
        else{
               uvalid.style.color="red";
                uvalid.innerHTML="Username Not  available";
        }
    }

});
});

 </script>
  </body>
</html>