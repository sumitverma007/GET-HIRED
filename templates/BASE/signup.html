<!doctype html>
<html lang="en">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
 <title>Register User</title>
  <style>
    *{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
.main{
  background-image: linear-gradient(45deg ,rgb(0,0,0),rgb(98, 65, 187));

    height: 100vh;
    width: 100vw;
    background-position: center;
    background-size:cover;
}
.logoimg{
    height:100px;
    width: 100px;
    background-color: rgb(224, 214, 214);
    border: none;
    border-radius: 19px;
 
}
.signuparea h2{
    -webkit-text-stroke: 1px black;
}
.signuparea p{
    font-size: 2rem;
    font-family: 'roboto', sans-serif;
   
}
.imgarea{
    padding-top:151px;
    margin-left:-55px;
}
.sideimg{
    width:100%;
    height:100%;
}
i{
    color:rgb(35, 173, 197);
    font-size: 1.5rem;
}
.registerbtn{
  
       
        padding:10px 20px;
        height: 50px;
        border-radius: 25px;
        outline: none;
        border: none;
        background-image: linear-gradient(to right, #2076cc, #265380, #1c4064);
        background-size: 200%;
        font-size: 1.2rem;
        color: #fff;
        font-family: 'Poppins', sans-serif;
        text-transform: uppercase;
        margin: 1rem 0;
        cursor: pointer;
        transition: .5s;
        text-decoration: none;
   
}
.registerbtn:hover{
    background-image: linear-gradient(to right, #090e14, #070d13, #0a0b0c);
    color:rgb(161, 175, 134);
}
@media screen and (max-width: 900px){
.imgarea{
    display: none;
}
.registersec .registerbtn{
    font-size:0.7rem;
}
}
  </style>
    <!-- Bootstrap CSS -->
    {% load static %}
  

     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
     <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Acme&family=Open+Sans&family=Roboto:wght@300&display=swap" rel="stylesheet">
 <link href="https://fonts.googleapis.com/css?family=Poppins:600&display=swap" rel="stylesheet">
 	<script src="https://kit.fontawesome.com/a81368914c.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  
 <script src="{% static 'JAVASCRIPT/jsignup.js/' %}"></script>
  </head>
  <body>
  {% for message in messages %}
  <div class="alert alert-{{message.tags}} alert-dismissible fade show" role="alert">
  <strong>Registration Failed:</strong> {{message}}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}
<div class="main">
<div class="row">
    <div class="col-md-8  text-center  signuparea">
     <div class="logo">
     {% load static %}
         <img class="logoimg" src="{% static  'images/logo1.png' %}">
         <h2 class="display-2 text-light my-2"><strong>GET</strong></h2>
         <h2 class="display-3 text-light my-2">HIRED</h2>
     </div>
     <p class="text-white my-4">
        <i class="fa fa-quote-left" aria-hidden="true"></i>A platform to interact with Employers.
        <i class="fa fa-quote-right" aria-hidden="true"></i>
     </p>
     <div class="registersec">
     <a href="#"  class="registerbtn my-2" data-bs-toggle="modal" data-bs-target="#jsignup">JOBSEEKER SIGNUP</a>
     <a href="#" class="registerbtn my-2" data-bs-toggle="modal" data-bs-target="#esignup" >EMPLOYER SIGNUP</a>
    </div>
    </div>
    <div class="col-md-4 imgarea">
        <div class=" text-center">
            <img class="sideimg" src="{% static 'images/interview.svg' %}">
        </div>
    </div>
</div>
</div>

   <!-- modal for jsignup-->
<div class="modal fade" id="jsignup" tabindex="-1" aria-labelledby="jsignup" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" >JOB SEEKER REGISTRATION</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       <form action="/JOBSEEKER/registerjobseeker/" onsubmit="return validateJform()"  method="POST" enctype="multipart/form-data">{% csrf_token %}
        <div class="mb-3">
            <label for="jUsername" class="form-label"> Enter Username<span class="req">*</span></label>
            <input type="text" class="form-control" id="jUsername" name="jUsername" placeholder="Enter Username" aria-describedby="jUsernameValid" required></input>
            <div id="jUsernameValid" class="form-text"></div>
        </div>
         <div class="mb-3">
            <label for="jPassword" class="form-label"> Enter Password<span class="req">*</span></label>
            <input type="Password" class="form-control" id="jPassword" name="jPassword" placeholder="Enter Password" aria-describedby="jPasswordHelp" required></input>
            <small class=" form-text" id="invalidPassword"></small>
            <div id="jPasswordHelp" class="form-text">Password should be atleast 8 charactter long and should contain atleast one alphabet and one number</div>
        </div>
         <div class="mb-3">
            <label for="jPassword2" class="form-label"> Enter Password Again<span class="req">*</span></label>
            <input type="Password" class="form-control" id="jPassword2" placeholder="Enter Password again"  required></input>
            <small class="text-danger form-text" id="PasswordNotSame"></small>
        </div>
        <div class="mb-3">
            <label for="jemail" class="form-label"> Enter Email Address<span class="req">*</span></label>
            <input type="email" class="form-control" id="jemail" name="jemail" placeholder="Enter your Email"  required></input>
            
        </div>
        <div class="mb-3">
            <label for="jPhone" class="form-label"> Enter Phone Number(Without country code)<span class="req">*</span></label>
            <input type="text" class="form-control" id="jPhone" name="jPhone" placeholder="Enter your phone number"  required></input>
            
        </div>
       <div class="input-group mb-3">
            <input type="text" class="form-control" id="jFirstName" name="jFirstName" placeholder="Enter Your First Name" required></input>
            <input type="text" class="form-control" id="jLastName" name="jLastName" placeholder="Enter Your Last Name" required></input>
            <small class="form-text text-danger" id="jNameError"></small>
        </div>
           <div class="input-group mb-3">
            <input type="text" class="form-control" id="jXmarks" name="jXmarks" placeholder=" 10th marks (in %)" required></input>
            <input type="text" class="form-control" id="jXiimarks" name="jXiimarks" placeholder="12th Marks (in %)" required></input>
         <input type="text" class="form-control" id="jGradmarks" name="jGradmarks" placeholder="Graduation Marks (in %)" required></input>

        </div>
        <div class="mb-3">
        <label for="jDob" class="form-label">Enter Your Date of Birth</label>
        <input type="date" class="form-control" name="jDob" id="jDob" required></input>
        </div>
        <div class="mb-3">
        <label for="jProfilePic" class="form-label">Upload Your Picture</label>
        <input type="file" id="jProfilePic" name="jProfilePic" class="form-control"></input>
        </div>
        <div class="mb-3">
        <label for="jResume" class="form-label">Upload Your Resume</label>
        <input type="file" id="jResume" name="jResume" class="form-control"></input>
        </div>
        <div class="mb-3 text-center">
         <button class="btn btn-success" type="submit">Submit</button>
        </div>
       </form>
      </div>
     
    </div>
  </div>
</div>

<!-- modal for employer-->
<div class="modal fade" id="esignup" tabindex="-1" aria-labelledby="esignup" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" >EMPLOYER REGISTRATION</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form action="/EMPLOYER/registeremployer/" method="POST" enctype="multipart/form-data">{% csrf_token %}
            <div class="mb-3">
            <label for="eUsername" class="form-label"> Enter Username<span class="req">*</span></label>
            <input type="text" class="form-control" id="eUsername" name="eUsername" placeholder="Enter Username" aria-describedby="jUsernameValid" required></input>
            <div id="eUsernameValid" class="form-text"></div>
        </div>
          <div class="mb-3">
            <label for="eEmail" class="form-label"> Enter Email Address<span class="req">*</span></label>
            <input type="text" class="form-control" id="eEmail" name="eEmail" placeholder="Enter Email Address"  required></input>
           
        </div>
         <div class="mb-3">
            <label for="ePassword" class="form-label"> Enter Password<span class="req">*</span></label>
            <input type="Password" class="form-control" id="ePassword" name="ePassword" placeholder="Enter Password" aria-describedby="jPasswordHelp" required></input>
            <small class=" form-text" id="einvalidPassword"></small>
            <div id="ePasswordHelp" class="form-text">Password should be atleast 8 charactter long and should contain atleast one alphabet and one number</div>
        </div>
         <div class="mb-3">
            <label for="ePassword2" class="form-label"> Enter Password Again<span class="req">*</span></label>
            <input type="Password" class="form-control" id="ePassword2" placeholder="Enter Password again"  required></input>
            <small class="text-danger form-text" id="ePasswordNotSame"></small>
        </div>

         <div class="mb-3">
            <label for="eCin" class="form-label"> Enter CIN Number<span class="req">*</span></label>
            <input type="text" class="form-control" id="eCin" name="eCin" placeholder="Enter CIN Number"  required></input>
           
        </div>
         <div class="mb-3">
            <label for="eName" class="form-label"> Enter Firm Name<span class="req">*</span></label>
            <input type="text" class="form-control" id="eName" name="eName" placeholder="Enter Company Name" aria-describedby="jUsernameValid" required></input>

        </div>
        <div class="mb-3">
        <label for="eProfilepic" class="form-label">Upload Your Picture</label>
        <input type="file" id="eProfilepic" name="eProfilepic" class="form-control"></input>
        </div>
      <div class="mb-3 text-center">
         <button class="btn btn-success" type="submit">Submit</button>
        </div>
        </form>
      </div>
     
    </div>
  </div>
</div>
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

 <script>

$("#jPassword").change(function(){
  
let pass=$(this).val();

let alpha=0;
let num=0;
let len=pass.length;
let lenok=0;
if (len >= 8){
    lenok=1;
}
let i;
for(i=0;i<len;i++){
    if((pass[i]>='a' && pass[i]<='z')||(pass[i]>='A' &&  pass[i]<='Z')){
        alpha=1;
    }
    if(pass[i]>=0 && pass[i]<=9){
        num=1;
    }
}
let invalidpass=document.getElementById('invalidPassword');

if(alpha==1 && num==1 && lenok==1){
    invalidpass.style.color="green";
    invalidpass.innerHTML="Its a valid Password";
}
else{
   invalidpass.style.color="red";
invalidpass.innerHTML="Invalid Password";
}
});

$("#jPassword2").change(function(){
let pass1=$("#jPassword").val();
let pass2=$(this).val();
if(pass1 != pass2){
    document.getElementById('PasswordNotSame').innerHTML="Password didn't match"
}
else{
    document.getElementById('PasswordNotSame').style.display="none";
}
});

$("#jUsername").change(function(){
let jname=$(this).val();
let uvalid=document.getElementById("jUsernameValid");

$.ajax({
    url:'/validate_username/',
    data:{
        'username':jname
    },
    dataType:'json',
    success:function(data){
        if(!data.is_ok){
                uvalid.style.color="green";
                uvalid.innerHTML="Username available";
        }
        else{
               uvalid.style.color="red";
                uvalid.innerHTML="Username Not  available";
        }
    }

});
});
$("#eUsername").change(function(){
        let username=$(this).val();
        let validusername=document.getElementById('eUsernameValid');
        $.ajax({
            url:'/validate_username/',
            data:{
                'username':username
            },
            dataType:'json',
            success:function(data){
                if(!data.is_ok){
                    validusername.style.color="green";
                    validusername.innerHTML="Username available";
                }
                else{
                    validusername.style.color="red";
                    validusername.innerHTML="username not available";
                }
            }
        });
    });
  $("#ePassword").change(function(){
  
        let pass=$(this).val();
        
        let alpha=0;
        let num=0;
        let len=pass.length;
        let lenok=0;
        if (len >= 8){
            lenok=1;
        }
        let i;
        for(i=0;i<len;i++){
            if((pass[i]>='a' && pass[i]<='z')||(pass[i]>='A' &&  pass[i]<='Z')){
                alpha=1;
            }
            if(pass[i]>=0 && pass[i]<=9){
                num=1;
            }
        }
        let invalidpass=document.getElementById('einvalidPassword');
        
        if(alpha==1 && num==1 && lenok==1){
            invalidpass.style.color="green";
            invalidpass.innerHTML="Its a valid Password";
        }
        else{
           invalidpass.style.color="red";
        invalidpass.innerHTML="Invalid Password";
        }
        });
        
  $("#ePassword2").change(function(){
        let pass1=$("#ePassword").val();
        let pass2=$(this).val();
        if(pass1 != pass2){
            document.getElementById('ePasswordNotSame').innerHTML="Password didn't match";
                       document.getElementById('ePasswordNotSame').style.display="block";

        }
        else{
            document.getElementById('ePasswordNotSame').style.display="none";
        }
        });
 </script>
  </body>
</html>